<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Spatial_Audio_Framework: saf_sofa_reader</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="CustomDoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Spatial_Audio_Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___s_o_f_a___reader.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">saf_sofa_reader</div>  </div>
</div><!--header-->
<div class="contents">

<p>SOFA file reading module.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:saf__sofa__reader_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="saf__sofa__reader_8c.html">saf_sofa_reader.c</a></td></tr>
<tr class="memdesc:saf__sofa__reader_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public source for the sofa reader module (<a class="el" href="saf_8h.html#a98df8902e6c5a7fba09c35d489505f77" title="SAF Module: SOFA_Reader.">SAF_SOFA_READER_MODULE</a>) <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:saf__sofa__reader_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="saf__sofa__reader_8h.html">saf_sofa_reader.h</a></td></tr>
<tr class="memdesc:saf__sofa__reader_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main header for the sofa reader module (<a class="el" href="saf_8h.html#a98df8902e6c5a7fba09c35d489505f77" title="SAF Module: SOFA_Reader.">SAF_SOFA_READER_MODULE</a>) <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsaf__sofa__container.html">saf_sofa_container</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SOFA container struct comprising all possible data that can be extracted from SOFA 1.0 files; as laid down in the GeneralFIR and SimpleFreeFieldHRIR specifications: <a href="https://www.sofaconventions.org/mediawiki/index.php/GeneralFIR">https://www.sofaconventions.org/mediawiki/index.php/GeneralFIR</a> <a href="https://www.sofaconventions.org/mediawiki/index.php/SimpleFreeFieldHRIR">https://www.sofaconventions.org/mediawiki/index.php/SimpleFreeFieldHRIR</a>.  <a href="structsaf__sofa__container.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaba919e3e9e5eee49b3344eeda301fa3b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_f_a___reader.html#gaba919e3e9e5eee49b3344eeda301fa3b">SAF_SOFA_ERROR_CODES</a> { <a class="el" href="group___s_o_f_a___reader.html#ggaba919e3e9e5eee49b3344eeda301fa3ba521263498ea8e2acc6f74c929fc7ad9c">SAF_SOFA_OK</a>, 
<a class="el" href="group___s_o_f_a___reader.html#ggaba919e3e9e5eee49b3344eeda301fa3ba07ac078f8e95e00fe2d15b8589113121">SAF_SOFA_ERROR_INVALID_FILE_OR_FILE_PATH</a>, 
<a class="el" href="group___s_o_f_a___reader.html#ggaba919e3e9e5eee49b3344eeda301fa3bac97dac08e6620c4088fa663d00f97972">SAF_SOFA_ERROR_DIMENSIONS_UNEXPECTED</a>, 
<a class="el" href="group___s_o_f_a___reader.html#ggaba919e3e9e5eee49b3344eeda301fa3baaaf17b97230cb34bdaa225d59fe78677">SAF_SOFA_ERROR_FORMAT_UNEXPECTED</a>
 }</td></tr>
<tr class="memdesc:gaba919e3e9e5eee49b3344eeda301fa3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SOFA loader error codes.  <a href="group___s_o_f_a___reader.html#gaba919e3e9e5eee49b3344eeda301fa3b">More...</a><br /></td></tr>
<tr class="separator:gaba919e3e9e5eee49b3344eeda301fa3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga020371f61a2d01025872c6954764dcfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___s_o_f_a___reader.html#gaba919e3e9e5eee49b3344eeda301fa3b">SAF_SOFA_ERROR_CODES</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_f_a___reader.html#ga020371f61a2d01025872c6954764dcfe">saf_sofa_open</a> (<a class="el" href="structsaf__sofa__container.html">saf_sofa_container</a> *hSOFA, char *sofa_filepath)</td></tr>
<tr class="memdesc:ga020371f61a2d01025872c6954764dcfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills a 'sofa_container' with data found in a SOFA file (GeneralFIR or SimpleFreeFieldHRIR), as detailed in the SOFA 1.0 standard [1,2,3].  <a href="group___s_o_f_a___reader.html#ga020371f61a2d01025872c6954764dcfe">More...</a><br /></td></tr>
<tr class="separator:ga020371f61a2d01025872c6954764dcfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga020cf8511ced05e971592454b2f909a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_f_a___reader.html#ga020cf8511ced05e971592454b2f909a0">saf_sofa_close</a> (<a class="el" href="structsaf__sofa__container.html">saf_sofa_container</a> *hSOFA)</td></tr>
<tr class="memdesc:ga020cf8511ced05e971592454b2f909a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees all SOFA data in a sofa_container.  <a href="group___s_o_f_a___reader.html#ga020cf8511ced05e971592454b2f909a0">More...</a><br /></td></tr>
<tr class="separator:ga020cf8511ced05e971592454b2f909a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8783d4f04ef4b082de7aa414e294ff52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_o_f_a___reader.html#ga8783d4f04ef4b082de7aa414e294ff52">loadSofaFile</a> (char *sofa_filepath, float **hrirs, float **hrir_dirs_deg, int *N_hrir_dirs, int *hrir_len, int *hrir_fs)</td></tr>
<tr class="memdesc:ga8783d4f04ef4b082de7aa414e294ff52"><td class="mdescLeft">&#160;</td><td class="mdescRight">A bare-bones SOFA file reader.  <a href="group___s_o_f_a___reader.html#ga8783d4f04ef4b082de7aa414e294ff52">More...</a><br /></td></tr>
<tr class="separator:ga8783d4f04ef4b082de7aa414e294ff52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>SOFA file reading module. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaba919e3e9e5eee49b3344eeda301fa3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba919e3e9e5eee49b3344eeda301fa3b">&#9670;&nbsp;</a></span>SAF_SOFA_ERROR_CODES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___s_o_f_a___reader.html#gaba919e3e9e5eee49b3344eeda301fa3b">SAF_SOFA_ERROR_CODES</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SOFA loader error codes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaba919e3e9e5eee49b3344eeda301fa3ba521263498ea8e2acc6f74c929fc7ad9c"></a>SAF_SOFA_OK&#160;</td><td class="fielddoc"><p>None of the error checks failed. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaba919e3e9e5eee49b3344eeda301fa3ba07ac078f8e95e00fe2d15b8589113121"></a>SAF_SOFA_ERROR_INVALID_FILE_OR_FILE_PATH&#160;</td><td class="fielddoc"><p>Not a SOFA file, or no such file was found in the specified location. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaba919e3e9e5eee49b3344eeda301fa3bac97dac08e6620c4088fa663d00f97972"></a>SAF_SOFA_ERROR_DIMENSIONS_UNEXPECTED&#160;</td><td class="fielddoc"><p>Dimensions of the SOFA data were not as expected. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaba919e3e9e5eee49b3344eeda301fa3baaaf17b97230cb34bdaa225d59fe78677"></a>SAF_SOFA_ERROR_FORMAT_UNEXPECTED&#160;</td><td class="fielddoc"><p>The data-type of the SOFA data was not as expected. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="saf__sofa__reader_8h_source.html#l00133">133</a> of file <a class="el" href="saf__sofa__reader_8h_source.html">saf_sofa_reader.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8783d4f04ef4b082de7aa414e294ff52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8783d4f04ef4b082de7aa414e294ff52">&#9670;&nbsp;</a></span>loadSofaFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadSofaFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sofa_filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float **&#160;</td>
          <td class="paramname"><em>hrirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float **&#160;</td>
          <td class="paramname"><em>hrir_dirs_deg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>N_hrir_dirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hrir_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hrir_fs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A bare-bones SOFA file reader. </p>
<p>Allocates memory and copies the values of the essential data contained in a SOFA file to the output arguments.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function is deprecated, use <a class="el" href="group___s_o_f_a___reader.html#ga020371f61a2d01025872c6954764dcfe" title="Fills a &#39;sofa_container&#39; with data found in a SOFA file (GeneralFIR or SimpleFreeFieldHRIR),...">saf_sofa_open()</a>. </dd>
<dd>
This function assumes the SOFA file comprises HRIR data! (i.e. not general IR measurement data). </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The hrirs are returned as NULL if the file does not exist.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sofa_filepath</td><td>Directory/file_name of the SOFA file you wish to load. Optionally, you may set this as NULL, and the function will return the default HRIR data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hrirs</td><td>(&amp;) the HRIR data; FLAT: N_hrir_dirs x <a class="el" href="group___utilities.html#ga39b45c9e65aebd2a8ef72c3081baea84" title="2 (true for most humans)">NUM_EARS</a> x hrir_len </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hrir_dirs_deg</td><td>(&amp;) the HRIR positions; FLAT: N_hrir_dirs x 2 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">N_hrir_dirs</td><td>(&amp;) number of HRIR positions </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hrir_len</td><td>(&amp;) length of the HRIRs, in samples </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hrir_fs</td><td>(&amp;) sampling rate of the HRIRs </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__sofa__reader_8c_source.html#l00539">539</a> of file <a class="el" href="saf__sofa__reader_8c_source.html">saf_sofa_reader.c</a>.</p>

</div>
</div>
<a id="ga020cf8511ced05e971592454b2f909a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga020cf8511ced05e971592454b2f909a0">&#9670;&nbsp;</a></span>saf_sofa_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void saf_sofa_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsaf__sofa__container.html">saf_sofa_container</a> *&#160;</td>
          <td class="paramname"><em>hSOFA</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees all SOFA data in a sofa_container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSOFA</td><td>The sofa_container </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__sofa__reader_8c_source.html#l00481">481</a> of file <a class="el" href="saf__sofa__reader_8c_source.html">saf_sofa_reader.c</a>.</p>

</div>
</div>
<a id="ga020371f61a2d01025872c6954764dcfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga020371f61a2d01025872c6954764dcfe">&#9670;&nbsp;</a></span>saf_sofa_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___s_o_f_a___reader.html#gaba919e3e9e5eee49b3344eeda301fa3b">SAF_SOFA_ERROR_CODES</a> saf_sofa_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsaf__sofa__container.html">saf_sofa_container</a> *&#160;</td>
          <td class="paramname"><em>hSOFA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sofa_filepath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills a 'sofa_container' with data found in a SOFA file (GeneralFIR or SimpleFreeFieldHRIR), as detailed in the SOFA 1.0 standard [1,2,3]. </p>
<dl class="section warning"><dt>Warning</dt><dd>Not all SOFA files conform to the proposed standard [1,2,3]! Certain accomodatations for off-standard SOFA files (i.e. the ones that are wide-spread) have been built into this SOFA loader. However, if you happen to encounter a SOFA file that this SOFA loader cannot load, (or it misses some of the information) then please send it to the developers :-) </dd>
<dd>
This loader currently does not support TF SOFA files! </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Adding support for TF, SOS,.etc SOFA files should be quite trivial. However, we (the developers) do not have access to examples of these more specialised files to use for testing. Therefore, if you have files that use these other SOFA formats, and are willing to share them, then please send them to the developers and we'll make them work :-)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSOFA</td><td>The sofa_container </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sofa_filepath</td><td>SOFA file path (including .sofa extension)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>[1] Majdak, P., Iwaya, Y., Carpentier, T., Nicol, R., Parmentier, M., Roginska, A., Suzuki, Y., Watanabe, K., Wierstorf, H., Ziegelwanger, H. and Noisternig, M., 2013, May. Spatially oriented format for acoustics: A data exchange format representing head-related transfer functions. In Audio Engineering Society Convention 134. Audio Engineering Society. </dd>
<dd>
[2] <a href="https://www.sofaconventions.org/mediawiki/index.php/GeneralFIR">https://www.sofaconventions.org/mediawiki/index.php/GeneralFIR</a> </dd>
<dd>
[3] <a href="https://www.sofaconventions.org/mediawiki/index.php/SimpleFreeFieldHRIR">https://www.sofaconventions.org/mediawiki/index.php/SimpleFreeFieldHRIR</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="saf__sofa__reader_8c_source.html#l00040">40</a> of file <a class="el" href="saf__sofa__reader_8c_source.html">saf_sofa_reader.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 27 2020 07:48:14 for Spatial_Audio_Framework by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
