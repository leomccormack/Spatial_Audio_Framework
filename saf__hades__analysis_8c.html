<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="google" content="notranslate" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SAF: framework/modules/saf_hades/saf_hades_analysis.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-498Z1C2LX5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-498Z1C2LX5');
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SAF
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('saf__hades__analysis_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">saf_hades_analysis.c File Reference<div class="ingroups"><a class="el" href="group___h_a_d_e_s.html">saf_hades</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Source file for the HADES analysis (<a class="el" href="saf_8h.html#ab6f0ef4b2d9cd26064b92d9749aab4c8" title="SAF Module: HADES.">SAF_HADES_MODULE</a>)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="saf__hades__analysis_8h_source.html">saf_hades_analysis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="saf__hades__internal_8h_source.html">saf_hades_internal.h</a>&quot;</code><br />
</div>
<p><a href="saf__hades__analysis_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a48915324a7610b03aa86cd5c7cf75585" id="r_a48915324a7610b03aa86cd5c7cf75585"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48915324a7610b03aa86cd5c7cf75585">hades_analysis_create</a> (<a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> *const phAna, float fs, <a class="el" href="saf__hades__analysis_8h.html#aad22fd8dcf06d05afb4214e930974d79">HADES_FILTERBANKS</a> fbOption, int hopsize, int blocksize, int hybridmode, float *h_array, float *grid_dirs_deg, int nGrid, int nMics, int h_len, <a class="el" href="saf__hades__analysis_8h.html#afe33eee2099dd404ac29d245ef82c1e1">HADES_DIFFUSENESS_ESTIMATORS</a> diffOption, <a class="el" href="saf__hades__analysis_8h.html#ac32a8b3f63374cb408b5ef260cb99007">HADES_DOA_ESTIMATORS</a> doaOption)</td></tr>
<tr class="memdesc:a48915324a7610b03aa86cd5c7cf75585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and returns a handle to an instance of a hades analysis object.  <br /></td></tr>
<tr class="separator:a48915324a7610b03aa86cd5c7cf75585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270072774e85d05dc1f9d49a74546412" id="r_a270072774e85d05dc1f9d49a74546412"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a270072774e85d05dc1f9d49a74546412">hades_analysis_destroy</a> (<a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> *const phAna)</td></tr>
<tr class="memdesc:a270072774e85d05dc1f9d49a74546412"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an instance of a hades analysis object.  <br /></td></tr>
<tr class="separator:a270072774e85d05dc1f9d49a74546412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0251f0ba622da9dc61e008cd1922f656" id="r_a0251f0ba622da9dc61e008cd1922f656"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0251f0ba622da9dc61e008cd1922f656">hades_analysis_reset</a> (<a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const hAna)</td></tr>
<tr class="memdesc:a0251f0ba622da9dc61e008cd1922f656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes run-time buffers with zeros.  <br /></td></tr>
<tr class="separator:a0251f0ba622da9dc61e008cd1922f656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad92151b81e71543c95aa6ccb7a4fe600" id="r_ad92151b81e71543c95aa6ccb7a4fe600"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad92151b81e71543c95aa6ccb7a4fe600">hades_analysis_apply</a> (<a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const hAna, float **input, int nChannels, int blocksize, void *const hPCon, void *const hSCon)</td></tr>
<tr class="memdesc:ad92151b81e71543c95aa6ccb7a4fe600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs hades encoding: forward time-frequency transform, diffuseness and DoA estimation per band.  <br /></td></tr>
<tr class="separator:ad92151b81e71543c95aa6ccb7a4fe600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4cb17dd3553d28e5b23938041fa8b4" id="r_a0d4cb17dd3553d28e5b23938041fa8b4"><td class="memItemLeft" align="right" valign="top">const float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d4cb17dd3553d28e5b23938041fa8b4">hades_analysis_getFrequencyVectorPtr</a> (<a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const hAna, int *nBands)</td></tr>
<tr class="memdesc:a0d4cb17dd3553d28e5b23938041fa8b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the frequency vector (read-only)  <br /></td></tr>
<tr class="separator:a0d4cb17dd3553d28e5b23938041fa8b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7169ac40fec40adf328edac8f7c84c4f" id="r_a7169ac40fec40adf328edac8f7c84c4f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7169ac40fec40adf328edac8f7c84c4f">hades_analysis_getNbands</a> (<a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const hAna)</td></tr>
<tr class="memdesc:a7169ac40fec40adf328edac8f7c84c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of frequency bands (0 if hAna is not initialised)  <br /></td></tr>
<tr class="separator:a7169ac40fec40adf328edac8f7c84c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ed2421c378b0888e24902fdecb681b" id="r_ac3ed2421c378b0888e24902fdecb681b"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3ed2421c378b0888e24902fdecb681b">hades_analysis_getCovarianceAvagingCoeffPtr</a> (<a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const hAna)</td></tr>
<tr class="memdesc:ac3ed2421c378b0888e24902fdecb681b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the covariance matrix averaging scalar [0..1], which can be changed at run-time.  <br /></td></tr>
<tr class="separator:ac3ed2421c378b0888e24902fdecb681b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1b02d4e1d4b3ca16690900aaf7c6b0" id="r_a1a1b02d4e1d4b3ca16690900aaf7c6b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a1b02d4e1d4b3ca16690900aaf7c6b0">hades_analysis_getProcDelay</a> (<a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const hAna)</td></tr>
<tr class="memdesc:a1a1b02d4e1d4b3ca16690900aaf7c6b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the analyser processing delay, in samples.  <br /></td></tr>
<tr class="separator:a1a1b02d4e1d4b3ca16690900aaf7c6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6187d68453df6a00c85b933cf0dd7d4a" id="r_a6187d68453df6a00c85b933cf0dd7d4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6187d68453df6a00c85b933cf0dd7d4a">hades_param_container_create</a> (<a class="el" href="saf__hades__analysis_8h.html#a8ffe809fcb35d05805a84f327da291b2">hades_param_container_handle</a> *const phPCon, <a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const hAna)</td></tr>
<tr class="memdesc:a6187d68453df6a00c85b933cf0dd7d4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an instance of a container used for storing the parameters estimated by an analyser for one 'blocksize'.  <br /></td></tr>
<tr class="separator:a6187d68453df6a00c85b933cf0dd7d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbb324fd26e7e01a845191a43fed1ec" id="r_a1cbb324fd26e7e01a845191a43fed1ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cbb324fd26e7e01a845191a43fed1ec">hades_param_container_destroy</a> (<a class="el" href="saf__hades__analysis_8h.html#a8ffe809fcb35d05805a84f327da291b2">hades_param_container_handle</a> *const phPCon)</td></tr>
<tr class="memdesc:a1cbb324fd26e7e01a845191a43fed1ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an instance of a hades parameter container.  <br /></td></tr>
<tr class="separator:a1cbb324fd26e7e01a845191a43fed1ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314385f38911d5dd1eadb450f794156a" id="r_a314385f38911d5dd1eadb450f794156a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a314385f38911d5dd1eadb450f794156a">hades_signal_container_create</a> (<a class="el" href="saf__hades__analysis_8h.html#a929e7872d4a502095b0b1e24049ab3d6">hades_signal_container_handle</a> *const phSCon, <a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const hAna)</td></tr>
<tr class="memdesc:a314385f38911d5dd1eadb450f794156a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an instance of a container used for storing the TF-domain audio returned by an analyser for one 'blocksize'.  <br /></td></tr>
<tr class="separator:a314385f38911d5dd1eadb450f794156a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cded12c1e95c6720f8128e4fe0e275" id="r_ae3cded12c1e95c6720f8128e4fe0e275"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3cded12c1e95c6720f8128e4fe0e275">hades_signal_container_destroy</a> (<a class="el" href="saf__hades__analysis_8h.html#a929e7872d4a502095b0b1e24049ab3d6">hades_signal_container_handle</a> *const phSCon)</td></tr>
<tr class="memdesc:ae3cded12c1e95c6720f8128e4fe0e275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an instance of a hades signal container.  <br /></td></tr>
<tr class="separator:ae3cded12c1e95c6720f8128e4fe0e275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Source file for the HADES analysis (<a class="el" href="saf_8h.html#ab6f0ef4b2d9cd26064b92d9749aab4c8" title="SAF Module: HADES.">SAF_HADES_MODULE</a>) </p>
<p>The framework for binaural rendering of Hearing-Assistive/Augmented-reality Devices (HADES) is described further in [1].</p>
<dl class="section see"><dt>See also</dt><dd>[1] Fernandez, J., McCormack, L., Hyvärinen, P., Politis, A., and Pulkki, V. 2022. “Enhancing binaural rendering of head-worn microphone arrays through the use of adaptive spatial covariance matching”, The Journal of the Acoustical Society of America 151, 2624-2635</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Leo McCormack and Janani Fernandez </dd></dl>
<dl class="section date"><dt>Date</dt><dd>01.02.2021 </dd></dl>
<dl class="section user"><dt>License</dt><dd>GNU GPLv2 </dd></dl>

<p class="definition">Definition in file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad92151b81e71543c95aa6ccb7a4fe600" name="ad92151b81e71543c95aa6ccb7a4fe600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad92151b81e71543c95aa6ccb7a4fe600">&#9670;&#160;</a></span>hades_analysis_apply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hades_analysis_apply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const</td>          <td class="paramname"><span class="paramname"><em>hAna</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float **</td>          <td class="paramname"><span class="paramname"><em>input</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nChannels</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>blocksize</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const</td>          <td class="paramname"><span class="paramname"><em>hPCon</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const</td>          <td class="paramname"><span class="paramname"><em>hSCon</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs hades encoding: forward time-frequency transform, diffuseness and DoA estimation per band. </p>
<dl class="section note"><dt>Note</dt><dd>See <a class="el" href="saf__hades__analysis_8h.html#a6187d68453df6a00c85b933cf0dd7d4a" title="Creates an instance of a container used for storing the parameters estimated by an analyser for one &#39;...">hades_param_container_create()</a> and <a class="el" href="saf__hades__analysis_8h.html#a314385f38911d5dd1eadb450f794156a" title="Creates an instance of a container used for storing the TF-domain audio returned by an analyser for o...">hades_signal_container_create()</a> for creating the parameter and signal containers, respectively. The former contains the estimated spatial parameters (a diffuseness measure, DoA for each source), while the latter contains the input signals in the time-frequency domain, and their spatial covariance matrices per band. These containers can then be passed to <a class="el" href="saf__hades__synthesis_8c.html#a743fe24767662fbe680f90bc479cc999" title="Performs hades synthesis.">hades_synthesis_apply()</a> to reproduce the encoded scene over the target setup.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hAna</td><td>hades analysis handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>Input buffer; nChannels x blocksize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nChannels</td><td>Number of channels in input buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blocksize</td><td>Number of samples in input buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hPCon</td><td>hades parameter container handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hSCon</td><td>hades signal container handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00244">244</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a48915324a7610b03aa86cd5c7cf75585" name="a48915324a7610b03aa86cd5c7cf75585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48915324a7610b03aa86cd5c7cf75585">&#9670;&#160;</a></span>hades_analysis_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hades_analysis_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> *const</td>          <td class="paramname"><span class="paramname"><em>phAna</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>fs</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#aad22fd8dcf06d05afb4214e930974d79">HADES_FILTERBANKS</a></td>          <td class="paramname"><span class="paramname"><em>fbOption</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>hopsize</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>blocksize</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>hybridmode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>h_array</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>grid_dirs_deg</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nGrid</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nMics</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>h_len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#afe33eee2099dd404ac29d245ef82c1e1">HADES_DIFFUSENESS_ESTIMATORS</a></td>          <td class="paramname"><span class="paramname"><em>diffOption</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#ac32a8b3f63374cb408b5ef260cb99007">HADES_DOA_ESTIMATORS</a></td>          <td class="paramname"><span class="paramname"><em>doaOption</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and returns a handle to an instance of a hades analysis object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">phAna</td><td>(&amp;) address of hades analysis handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fs</td><td>Samplerate, Hz </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fbOption</td><td>Filterbank to use (see <a class="el" href="saf__hades__analysis_8h.html#aad22fd8dcf06d05afb4214e930974d79" title="Filterbank options.">HADES_FILTERBANKS</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hopsize</td><td>Filterbank hopsize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blocksize</td><td>Number of time-domain samples to process at a time </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hybridmode</td><td>1: enable filterbank hybrid-filtering, 0: disable </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">h_array</td><td>Array impulse responses; FLAT: nGrid x nMics x h_len </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grid_dirs_deg</td><td>Measurement dirs [azi elev] degrees; FLAT: nGrid x 2 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nGrid</td><td>Number of mesurement directions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nMics</td><td>Number of microphones </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">h_len</td><td>Length of impulse responses, in samples </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">diffOption</td><td>Diffusness parameter estimator to use (see <a class="el" href="saf__hades__analysis_8h.html#afe33eee2099dd404ac29d245ef82c1e1" title="Options for diffuseness estimation for hades_analysis.">HADES_DIFFUSENESS_ESTIMATORS</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">doaOption</td><td>DoA estimator to use (see <a class="el" href="saf__hades__analysis_8h.html#ac32a8b3f63374cb408b5ef260cb99007" title="Options for DoA estimation for hades_analysis.">HADES_DOA_ESTIMATORS</a>) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00047">47</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a270072774e85d05dc1f9d49a74546412" name="a270072774e85d05dc1f9d49a74546412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a270072774e85d05dc1f9d49a74546412">&#9670;&#160;</a></span>hades_analysis_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hades_analysis_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> *const</td>          <td class="paramname"><span class="paramname"><em>phAna</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an instance of a hades analysis object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">phAna</td><td>(&amp;) address of hades analysis handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00184">184</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="ac3ed2421c378b0888e24902fdecb681b" name="ac3ed2421c378b0888e24902fdecb681b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ed2421c378b0888e24902fdecb681b">&#9670;&#160;</a></span>hades_analysis_getCovarianceAvagingCoeffPtr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * hades_analysis_getCovarianceAvagingCoeffPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const</td>          <td class="paramname"><span class="paramname"><em>hAna</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the covariance matrix averaging scalar [0..1], which can be changed at run-time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hAna</td><td>hades analysis handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the covariance matrix averaging scalar (or NULL if hAna is not initialised); 1 x 1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00356">356</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a0d4cb17dd3553d28e5b23938041fa8b4" name="a0d4cb17dd3553d28e5b23938041fa8b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d4cb17dd3553d28e5b23938041fa8b4">&#9670;&#160;</a></span>hades_analysis_getFrequencyVectorPtr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float * hades_analysis_getFrequencyVectorPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const</td>          <td class="paramname"><span class="paramname"><em>hAna</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>nBands</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the frequency vector (read-only) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hAna</td><td>hades analysis handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nBands</td><td>(&amp;) Number of bands (set to NULL if not needed) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to freqVector (or NULL if hAna is not initialised); nBands x 1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00330">330</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a7169ac40fec40adf328edac8f7c84c4f" name="a7169ac40fec40adf328edac8f7c84c4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7169ac40fec40adf328edac8f7c84c4f">&#9670;&#160;</a></span>hades_analysis_getNbands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hades_analysis_getNbands </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const</td>          <td class="paramname"><span class="paramname"><em>hAna</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns number of frequency bands (0 if hAna is not initialised) </p>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00348">348</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a1a1b02d4e1d4b3ca16690900aaf7c6b0" name="a1a1b02d4e1d4b3ca16690900aaf7c6b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a1b02d4e1d4b3ca16690900aaf7c6b0">&#9670;&#160;</a></span>hades_analysis_getProcDelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hades_analysis_getProcDelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const</td>          <td class="paramname"><span class="paramname"><em>hAna</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the analyser processing delay, in samples. </p>
<dl class="section note"><dt>Note</dt><dd>The total delay for an analyser -&gt; synthesiser configuration is computed as: <a class="el" href="saf__hades__analysis_8h.html#a1a1b02d4e1d4b3ca16690900aaf7c6b0" title="Returns the analyser processing delay, in samples.">hades_analysis_getProcDelay()</a> + <a class="el" href="saf__hades__synthesis_8c.html#a23bfe9c50c24dab46f1a89fa9603ad61" title="Returns the synthesiser processing delay, in samples.">hades_synthesis_getProcDelay()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00368">368</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a0251f0ba622da9dc61e008cd1922f656" name="a0251f0ba622da9dc61e008cd1922f656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0251f0ba622da9dc61e008cd1922f656">&#9670;&#160;</a></span>hades_analysis_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hades_analysis_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const</td>          <td class="paramname"><span class="paramname"><em>hAna</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flushes run-time buffers with zeros. </p>
<p>Call this ONCE before calling <a class="el" href="saf__hades__analysis_8h.html#ad92151b81e71543c95aa6ccb7a4fe600" title="Performs hades encoding: forward time-frequency transform, diffuseness and DoA estimation per band.">hades_analysis_apply()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hAna</td><td>hades analysis handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00229">229</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a6187d68453df6a00c85b933cf0dd7d4a" name="a6187d68453df6a00c85b933cf0dd7d4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6187d68453df6a00c85b933cf0dd7d4a">&#9670;&#160;</a></span>hades_param_container_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hades_param_container_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a8ffe809fcb35d05805a84f327da291b2">hades_param_container_handle</a> *const</td>          <td class="paramname"><span class="paramname"><em>phPCon</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const</td>          <td class="paramname"><span class="paramname"><em>hAna</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an instance of a container used for storing the parameters estimated by an analyser for one 'blocksize'. </p>
<dl class="section note"><dt>Note</dt><dd>There should be one container per analyser, but this container can be passed to multiple different synthesisers. You may also create multiple containers, fill them using an analyser, store them, and pass them to the synthesiser(s) later.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">phPCon</td><td>(&amp;) address of hades parameter container handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hAna</td><td>hades analysis handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00381">381</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a1cbb324fd26e7e01a845191a43fed1ec" name="a1cbb324fd26e7e01a845191a43fed1ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cbb324fd26e7e01a845191a43fed1ec">&#9670;&#160;</a></span>hades_param_container_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hades_param_container_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a8ffe809fcb35d05805a84f327da291b2">hades_param_container_handle</a> *const</td>          <td class="paramname"><span class="paramname"><em>phPCon</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an instance of a hades parameter container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">phPCon</td><td>(&amp;) address of hades parameter container handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00404">404</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="a314385f38911d5dd1eadb450f794156a" name="a314385f38911d5dd1eadb450f794156a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314385f38911d5dd1eadb450f794156a">&#9670;&#160;</a></span>hades_signal_container_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hades_signal_container_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a929e7872d4a502095b0b1e24049ab3d6">hades_signal_container_handle</a> *const</td>          <td class="paramname"><span class="paramname"><em>phSCon</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a54c8a9a24e2fd4deaed0d4a81825e5ce">hades_analysis_handle</a> const</td>          <td class="paramname"><span class="paramname"><em>hAna</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an instance of a container used for storing the TF-domain audio returned by an analyser for one 'blocksize'. </p>
<dl class="section note"><dt>Note</dt><dd>There should be one container per analyser, but this container can be passed to multiple different synthesisers. You may also create multiple containers, fill them using an analyser, store them, and pass them to the synthesiser(s) later.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">phSCon</td><td>(&amp;) address of hades signal container handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hAna</td><td>hades analysis handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00425">425</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
<a id="ae3cded12c1e95c6720f8128e4fe0e275" name="ae3cded12c1e95c6720f8128e4fe0e275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3cded12c1e95c6720f8128e4fe0e275">&#9670;&#160;</a></span>hades_signal_container_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hades_signal_container_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="saf__hades__analysis_8h.html#a929e7872d4a502095b0b1e24049ab3d6">hades_signal_container_handle</a> *const</td>          <td class="paramname"><span class="paramname"><em>phSCon</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an instance of a hades signal container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">phSCon</td><td>(&amp;) address of hades signal container handle </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="saf__hades__analysis_8c_source.html#l00447">447</a> of file <a class="el" href="saf__hades__analysis_8c_source.html">saf_hades_analysis.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_644e041c3a6521da7b27eba0e4eb2b95.html">framework</a></li><li class="navelem"><a class="el" href="dir_56553b6b74e7f4a7717200a52c59b140.html">modules</a></li><li class="navelem"><a class="el" href="dir_6e57a165dbd28ce52ae59706161fa9df.html">saf_hades</a></li><li class="navelem"><a class="el" href="saf__hades__analysis_8c.html">saf_hades_analysis.c</a></li>
    <li class="footer">Generated on Wed Jan 31 2024 14:11:00 for SAF by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
      $(document).ready(function(){
         toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
         toggleButton.title = "Toggle Light/Dark Mode"
         document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
     })
  })
</script>
</body>
</html>
